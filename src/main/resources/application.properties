spring.application.name=logitrack
# Puerto configurable: usa env var PORT si est치 definido; por defecto 8081
server.port=${PORT:8081}
# Context path para despliegue en Tomcat
server.servlet.context-path=/logitrack

# Datasource (PROD/QA: MySQL, NADA en memoria)
spring.datasource.url=jdbc:mysql://localhost:3306/logitrack_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true&createDatabaseIfNotExist=true
spring.datasource.username=root
spring.datasource.password=campus2023
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.hibernate.ddl-auto=none

# Inicializaci칩n de scripts SQL (schema + data)
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql
spring.sql.init.data-locations=classpath:data.sql

# Swagger
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
# Usar nombres camelCase para compatibilidad con Springdoc 2.x
springdoc.packagesToScan=com.logitrack.controller
springdoc.pathsToMatch=/api/**

# Jackson
spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false

# JPA: desactivar Open Session In View
spring.jpa.open-in-view=false

# Logging springdoc
logging.level.org.springdoc=DEBUG
logging.level.io.swagger.v3=DEBUG

# Mostrar detalles en errores
server.error.include-message=always
server.error.include-stacktrace=always

# Reportes: configuraci칩n de umbrales
reportes.stock-bajo.threshold=10
reportes.stock-bajo.max-threshold=1000

# Logging para diagn칩stico de arranque JPA/Hibernate
logging.level.org.hibernate=INFO
logging.level.org.springframework.orm.jpa=DEBUG
logging.level.org.springframework.boot.autoconfigure.orm.jpa=DEBUG
